<!DOCTYPE html>
<html>
<head>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.4.0/p5.js"></script>
</head>
<body style="
  text-align: center;
  vertical-align: center;
  background-color: black;
  ">
<div>
  <script>
    let numDots = 80;
    let dots = [];
    let minDistance = 20; // minimum distance in pixels (6 times the radius, if radius is 10)
    let dot_size = 8;
    let radius = 150; // radius of the main circle
    let hyperlinkIndex;

    function setup() {
      createCanvas(620, 600); // Adjusted canvas size for two circles
      background(0);
      stroke(100);
      strokeWeight(1);

      // Draw radar lines and main circle
      fill(0);
      ellipse(width / 4, height / 2, radius * 2, radius * 2);  // First circle
      ellipse(3 * width / 4, height / 2, radius * 2, radius * 2);  // Second circle
      noFill();
      for (let i = 0; i < TWO_PI; i += PI / 6) {
        line(width / 4, height / 2, width / 4 + cos(i) * radius, height / 2 + sin(i) * radius);
        line(3 * width / 4, height / 2, 3 * width / 4 + cos(i) * radius, height / 2 + sin(i) * radius);
      }
      for (let r = radius / 6; r < radius; r += radius / 6) {
        ellipse(width / 4, height / 2, r * 2, r * 2);
        ellipse(3 * width / 4, height / 2, r * 2, r * 2);
      }

      // Generate and draw dots
      for (let i = 0; i < numDots; i++) {
        let valid = false;
        let x, y;
        while (!valid) {
          let angle = random(TWO_PI);
          let r = random(radius);
          x = width / 4 + cos(angle) * r;
          y = height / 2 + sin(angle) * r;
          valid = true;
          for (let dot of dots) {
            if (dist(x, y, dot.x, dot.y) < minDistance) {
              valid = false;
              break;
            }
          }
        }
        let color = [random(0, 255), random(0, 255), random(0, 255)];
        dots.push({ x, y, color });
        fill(color);
        noStroke();
        ellipse(x, y, dot_size, dot_size); // dot size
      }

      // Select a random dot to be a hyperlink
      hyperlinkIndex = floor(random(numDots));
      dots[hyperlinkIndex].isHyperlink = true;
    }

    function draw() {
      // Draw dots in the first circle
      for (let i = 0; i < dots.length; i++) {
        if (dots[i].isHyperlink) {
          // fill(255, 0, 0); // Hyperlink color
          fill(255, 0, 0, 0); // Fully transparent hyperlink dot
        } else {
          fill(dots[i].color);
        }
        ellipse(dots[i].x, dots[i].y, dot_size, dot_size); // dot size
      }

      // Draw dots in the second circle
      for (let i = 0; i < dots.length; i++) {
        if (dots[i].isHyperlink) {
          // fill(255, 0, 0, 0); // Fully transparent hyperlink dot
        } else {
          fill(dots[i].color);
        }
        ellipse(dots[i].x + width / 2 + random(4), dots[i].y + random(4), dot_size, dot_size); // Shift x position for second circle
      }
    }

    function mousePressed() {
      // Check if the hyperlink dot is clicked in the first circle
      let dot = dots[hyperlinkIndex];
      if (dist(mouseX, mouseY, dot.x, dot.y) < 5) {
        dots = [];
        setup();
      }
    }
  </script> 
</div>
</body>
</html>
